<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BetterYTM</title>
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Host+Grotesk:ital,wght@0,300..800;1,300..800&display=swap');
    body{
        font-family:"Host Grotesk", serif;
        padding:0;
        margin:0;
    }
    h1{
        font-weight:800;
        font-size:30px;
        margin:0;
    }
    h2{
        font-weight:400;
        padding:0;
        margin:0;
    }
    .main-body{
        box-sizing: border-box;
        padding:50px 150px;
        display:flex;
        gap:100px;
        width:100vw;
        justify-content: space-evenly;
        height:100vh;
        align-items: center;
        /* overflow:hidden; */
        background-color: rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(80px); 
        transition: gap 0.5s;
    }

    .info-body{
        flex:1;
        text-align: right;
        color:white;
        display:flex;
        flex-direction: column;
        align-items: center;
        gap:20px;
    }

    /* img{
        border-radius:15px;
        margin:10px;
        width:500px;
    } */

    #lyrics-flex{
        transition: max-width 0.5s, opacity 0.25s;
        max-width: 50vw;
        flex:1;
        /* overflow:visible; */
    }

    #lyric-holder{
        display: flex;
        flex-direction: column;
        gap: 30px;

        /* width:30vw; */
        width: 100%;
        height:100%; 
        overflow-y:scroll; /*
        overflow-x:visible; */
        color:white;
        background-color:rgba(0, 0, 0, 0);
        /* Create the fade effect */
        -webkit-mask-image: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0) 10%,   /* Transparent at the top */
        rgba(0, 0, 0, 1) 20%,   /* Fully opaque in the middle */
        rgba(0, 0, 0, 1) 80%,   /* Fully opaque continues */
        rgba(0, 0, 0, 0) 90%    /* Transparent at the bottom */
        );
        mask-image: linear-gradient(
            to bottom,
            rgba(0, 0, 0, 0) 10%, 
            rgba(0, 0, 0, 1) 20%, 
            rgba(0, 0, 0, 1) 80%, 
            rgba(0, 0, 0, 0) 90%
        );
        -webkit-mask-size: 100% 100%;
        mask-size: 100% 100%;

        /* Ensure the div blends well with the background */
        background-blend-mode: normal;
    }

    #lyric-holder > div {
        font-size: 32px;
        opacity: 0.4;
        transition: 0.25s;
        font-weight: 500;
        width:80%;
    }
    
    #lyric-holder::-webkit-scrollbar {
        display: none;
        }

    #middle-space{
        width:10vw;
    }

    .words-div{
        text-align: center;
        width:100%;
        align-self: self-end;
        
    }

    h2{
        height:20px;
    }

    #controls-holder{
        padding:10px;

        display:flex;
        justify-content: center;
        gap:70px;
        align-items: center;
    }

    #controls-holder > img{
        height:20px;
        width:20px;
        border-radius:0;
        cursor: pointer;
        transition:0.25s;
    }

    #controls-holder > img:hover{
        transform:scale(1.15);
    }

    #progressbarholder{
        height:7px;
        border-radius:10px;
        width:30vw;
        background-color: rgba(255, 255, 255, 0.4);
        margin-left:10px;
        align-self:center;
    }
    #progressbar{
        height:7px;
        border-radius:10px;
        width:0%;
        background-color: white;
        transition:0.2s;
        
    }
    
    

    .album-image{
        border-radius: 10px;
        transition:0.25s;
    }
    .album-image:hover{
        box-shadow: 0px 0px 20px 10px rgba(0, 0, 0, 0.25);
        transform: scale(1.01);
    }

    #pauseplaybutton{
        height:30px;
        width:30px;
    }
    .controls-outer{
        
        display: flex;
        align-items: center;
        justify-content: center;
        gap:40%;
    }
    .mic{
        height:25px;
        width:25px;
        transition: 0.25s;
        cursor: pointer;
    }
    .mic:hover{
        transform: scale(1.25);
    }

    .clock { 
        height:25px;
        width:25px;
        transition: 0.25s;
        cursor: pointer;
    }
    .clock:hover{
        transform: scale(1.25);

    }
    .time-container{
        position:relative;
    }
    .time-popup-holder{
        position: absolute;
        width:350px;
        height:150px;
        top: -150px; /* Adjust the top value to position the popup above the button */
        left: 50%; /* Center the popup horizontally */
        transform: translateX(-50%); /* Center the popup horizontally */
        display:none;
        justify-content: center;
    }
    .time-adjustment{
        width:300px;
        height:100px;
        background-color: rgba(255,255,255,0.75); 
        backdrop-filter: blur(50px);
        padding:10px;
        border-radius: 10px;
        display:flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        box-shadow: 0px 0px 12px 5px rgba(100, 100, 100, 0.85);
    }
    .time-adjustment-details{
        padding:20px;
        font-weight:800;
        font-size:20px;
        color:black;
    }

    .time-container:hover .time-popup-holder{
        display:flex;
    }
    .time-adjustment-controls{
        width:100%;
        display:flex;
        align-items: center;
        justify-content: center;
        gap:20px;
        margin-bottom:10px;
    }
    .time-adjustment-button{
        background-color: white;
        padding:5px;
        font-size:15px;
        color:black;
        font-weight:800;
        border:none;
        border-radius: 5px;
        width:30px;
        cursor: pointer;
        transition: 0.25s;
    }
    .time-adjustment-button:hover{
        transform: scale(1.15);
    }
    .offset{
        font-size: 35;
        color:black;
        font-weight:800;
    }
    
    @keyframes loadingMic {
        0% {
            opacity:0.25;
        }
        50% {
            opacity:0.75;
        }
        100%{
            opacity:0.25;
        }
    }
   
</style>
<body>
    <canvas id="backgroundCanvas" style="width:100vw; height:100vh; position:absolute; z-index:-2;"></canvas>
    <div id="canvas-hider" style="z-index:-1; position: absolute; width:100vw; height:100vh; background-color:black; opacity: 0; transition: 0.5s;"></div>
    <div class="main-body" id="main-body">
        <div class="info-body">
            <img id="album-image" class="album-image">
            
            <div id="progressbarholder">
                <div id="progressbar">
                    
                </div>
            </div>
            <div class="words-div">
                <h1 id="title" style="">Title</h1>
                <h2 id="artist-album" style="">Artist • Album</h2>
                
            </div>  
            <div class="controls-outer">
                <img src="assets/mic.svg" class="mic" id="mic">

                <div id="controls-holder">
                    <img src="assets/left skip.png" id="backbutton">
                    <img src="assets/pause.png" data-paused="false" id="pauseplaybutton" style="width:30px; height:30px;">
                    <img src="assets/right skip.png" id="nextbutton">
                </div>                
                <div class="time-container">
                    <div class="time-popup-holder">
                        <div class="time-adjustment">
                            <div class="time-adjustment-details">Adjust Lyrics Time Offset</div>
                            <div class="time-adjustment-controls">
                                <button class="time-adjustment-button" id="subtractOffset">-</button>
                                <div class="offset" id="offset">0</div>
                                <button class="time-adjustment-button" id="addOffset">+</button>
                            </div>
                        </div>
                    </div>
                    
                    <img src="assets/clock.svg" class="clock" id="clock">
                </div>
            </div>
            
        </div>
        
        <div id="lyrics-flex">
            <div id="lyric-holder">
    
            </div>
        </div>
        
        <!-- <div class="previous-in-queue" id="prev">
            <img class="queue-image" id="previous-image" src="https://media.istockphoto.com/id/1222357475/vector/image-preview-icon-picture-placeholder-for-website-or-ui-ux-design-vector-illustration.jpg?s=612x612&w=0&k=20&c=KuCo-dRBYV7nz2gbk4J9w1WtTAgpTdznHu55W9FjimE=">
            <div class="queue-info">
                <div id="previous-title">Title</div>
                <div id="previous-artist">Artist • Album</div>
            </div>
        </div>
        <div class="next-in-queue" id="next">
            <div class="queue-info" style="text-align: right;">
                <div id="next-title">Title</div>
                <div id="next-artist">Artist • Album</div>
            </div>
            <img class="queue-image" id="next-image" src="https://media.istockphoto.com/id/1222357475/vector/image-preview-icon-picture-placeholder-for-website-or-ui-ux-design-vector-illustration.jpg?s=612x612&w=0&k=20&c=KuCo-dRBYV7nz2gbk4J9w1WtTAgpTdznHu55W9FjimE=">
        </div> -->
    </div>
    
</body>
<script src="backgroundMovingImage.js"></script>
<script src="colorUtils.js"></script>
<script src="parser.js"></script>
<script src="reciever.js"></script>
<script src="displayer.js"></script>
<script src="webapp-controller.js"></script>
</html>